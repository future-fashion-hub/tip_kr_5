# Таблица дел на неделю - Weekly Task Management

Express.js приложение для управления задачами на неделю с полным REST API и веб-интерфейсом.

## Описание проекта

Полнофункциональное Express.js приложение, которое позволяет:
- Создавать, читать, обновлять и удалять задачи (CRUD)
- Организовывать задачи по дням недели
- Устанавливать приоритеты и статусы для каждой задачи
- Отслеживать статистику по выполненным и невыполненным задачам
- Использовать удобный веб-интерфейс для управления задачами
- Взаимодействовать с REST API программно

## Ключевые особенности

### Backend (Express.js)
- Базовый Express-сервер на порту 3000
- REST API с полным набором методов
- Маршруты (GET, POST, PUT, DELETE)
- Обработка параметров: 
  - `req.params` для ID задач
  - `req.query` для фильтрации по дням (`?day=Понедельник`)
- Middleware:
  - `express.json()` - обработка JSON
  - `express.urlencoded()` - обработка form-data
  - `loggingMiddleware` - логирование запросов
  - `validationMiddleware` - валидация данных
  - `corsMiddleware` - CORS поддержка
  - `performanceMiddleware` - профилирование
- Раздача статических файлов через `express.static()`
- Модульная архитектура:
  - `routes/` - определение маршрутов
  - `controllers/` - бизнес-логика
  - `middleware/` - пользовательские middleware
  - `models/` - модели данных
  - `public/` - статические файлы

### Frontend
- Адаптивный дизайн с градиентным стилем
- Мобильная оптимизация
- Динамическая загрузка и обновление данных
- Фильтрация по дням недели
- Статистика в реальном времени
- Редактирование задач через модальное окно
- Удаление задач с подтверждением
- Уведомления об операциях

## Структура проекта

```
tip_kr_5/
├── app.js                      # Главный файл приложения
├── package.json               # Зависимости проекта
├── README.md                  # Документация
├── routes/
│   └── tasks.js              # Маршруты для задач
├── controllers/
│   └── taskController.js      # Контроллер с бизнес-логикой
├── middleware/
│   └── custom.js             # Пользовательские middleware
├── models/
│   └── taskModel.js          # Модель данных задач
└── public/
    ├── index.html            # HTML интерфейс
    ├── styles.css            # Стили
    └── app.js                # Клиентский JavaScript
```

## Быстрый старт

### Предварительные требования
- Node.js (v14 или выше)
- npm или yarn

### Установка и запуск

1. **Установите зависимости:**
```bash
npm install
```

2. **Запустите сервер:**
```bash
npm start
```
или просто:
```bash
node app.js
```

3. **Откройте в браузере:**
```
http://localhost:3000
```

## API Документация

### Базовый URL
```
http://localhost:3000/api/tasks
```

### Эндпоинты

#### 1. Получить все задачи
```http
GET /api/tasks
```
**Ответ:**
```json
{
  "success": true,
  "message": "Задачи успешно получены",
  "count": 5,
  "data": [
    {
      "id": 1,
      "title": "Подготовка к лекции",
      "description": "Подготовить материалы для понедельника",
      "day": "Понедельник",
      "priority": "высокий",
      "status": "завершена",
      "createdAt": "2025-12-01T00:00:00.000Z"
    }
  ]
}
```

#### 2. Получить задачи по дню
```http
GET /api/tasks?day=Понедельник
```

#### 3. Получить задачу по ID
```http
GET /api/tasks/1
```

#### 4. Создать новую задачу
```http
POST /api/tasks
Content-Type: application/json

{
  "title": "Название задачи",
  "description": "Описание",
  "day": "Вторник",
  "priority": "средний",
  "status": "новая"
}
```

**Параметры:**
| Параметр | Тип | Обязателен | Значения |
|----------|-----|-----------|----------|
| title | string | Да | любой текст |
| description | string | Нет | любой текст |
| day | string | Да | Пн-Вс недели |
| priority | string | Нет | низкий, средний, высокий |
| status | string | Нет | новая, в процессе, завершена |

#### 5. Обновить задачу
```http
PUT /api/tasks/1
Content-Type: application/json

{
  "title": "Новое название",
  "status": "в процессе"
}
```

#### 6. Удалить задачу
```http
DELETE /api/tasks/1
```

#### 7. Получить статистику
```http
GET /api/tasks/stats/summary
```
**Ответ:**
```json
{
  "success": true,
  "message": "Статистика получена",
  "data": {
    "total": 5,
    "statuses": {
      "новая": 2,
      "в процессе": 1,
      "завершена": 2
    },
    "byPriority": {
      "высокий": 1,
      "средний": 2,
      "низкий": 2
    }
  }
}
```

## Используемые технологии

### Backend
- **Express.js** - веб-фреймворк
- **Node.js** - среда выполнения
- **JavaScript (ES6+)** - язык программирования

### Frontend
- **HTML5** - структура
- **CSS3** - стили (с градиентами и анимациями)
- **Vanilla JavaScript** - интерактивность
- **Fetch API** - HTTP запросы

## Middleware

### Логирование (`loggingMiddleware`)
Логирует все входящие HTTP запросы с временной меткой, методом, путём и телом:
```
[2025-12-10T10:30:45.123Z] GET    /api/tasks
[2025-12-10T10:30:46.456Z] POST   /api/tasks
  Body: {"title":"Задача","day":"Понедельник"}
```

### Валидация (`validationMiddleware`)
Проверяет что Content-Type правильный для POST/PUT запросов

### Профилирование (`performanceMiddleware`)
Измеряет время обработки каждого запроса:
```
  Время обработки: 12ms (201)
```

## Что было выполнено

### Выполнено:
- Базовый Express-сервер
- Маршруты (GET, POST, PUT, DELETE)
- req.params для ID задач
- req.query для фильтрации по дням
- express.json() и express.urlencoded()
- 4 пользовательских middleware
- express.static() для раздачи статических файлов
- Модульная архитектура (routes + controllers + models)
- Полноценное веб-приложение с интерфейсом

## Функциональность приложения

### Данные задач
Каждая задача содержит:
- **ID** - уникальный идентификатор
- **Название** - обязательное поле
- **Описание** - опциональное поле
- **День недели** - Пн-Вс
- **Приоритет** - низкий, средний, высокий
- **Статус** - новая, в процессе, завершена
- **Дата создания** - автоматически устанавливается

### Допустимые дни недели
- Понедельник
- Вторник
- Среда
- Четверг
- Пятница
- Суббота
- Воскресенье

### Приоритеты
- **Низкий** (зелёный)
- **Средний** (жёлтый)
- **Высокий** (красный)

### Статусы
- **Новая** (синий) - задача только что создана
- **В процессе** (жёлтый) - задача в работе
- **Завершена** (зелёный) - задача выполнена

## Обработка ошибок

Все ошибки возвращаются в единообразном формате:
```json
{
  "success": false,
  "message": "Описание ошибки"
}
```

Примеры:
- Задача не найдена (404)
- Неверные данные (400)
- Ошибка сервера (500)

## Тестирование

Приложение поставляется с 5 примерами задач:
- Подготовка к лекции (Пн, выполнено)
- Проверка домашних заданий (Вт, в процессе)
- Встреча с кураторами (Ср, новая)
- Составление отчёта (Чт, новая)
- Консультация студентов (Пт, новая)

## Безопасность

- Валидация всех входящих данных
- Проверка типов данных
- Обработка исключений
- Логирование операций
